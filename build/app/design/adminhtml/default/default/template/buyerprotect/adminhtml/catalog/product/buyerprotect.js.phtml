<?php
/**
 * JS template file for buyerprotect types on product panel in backend
 *
 * @category  Symmetrics
 * @package   Symmetrics_Buyerprotect
 * @author    symmetrics gmbh <info@symmetrics.de>
 * @author    Ngoc Anh Doan <nd@symmetrics.de>
 * @copyright 2010 symmetrics gmbh
 * @license   http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 * @link      http://www.symmetrics.de/
 */
?>
<?php
    /* @var $_helper Symmetrics_Buyerprotect_Helper_Data */
    $_helper = Mage::helper('buyerprotect');
?>
<script type="text/javascript" charset="UTF-8">
/*<![CDATA[*/
    Event.observe(window, 'load',
        function()
        {
            <?php /* disabled || readonly */ ?>
            var inputMode = 'disabled';
            var catalogProductTabsPrefix = 'product_info_tabs_';
            <?php /* tabs which shall removes */ ?>
            var removeCatalogProductTabs = new Array('Meta Information', 'Images', 'Description', 'Design');
            var availableCatalogProductTabs = <?php echo $_helper->getAttributeGroups(true) ?>;

            <?php /* add here <input> ids which shall disabled */ ?>
            var inputNodeIds = new Array(
                'sku', 'visibility', 'name',
                'price', 'enable_googlecheckout', 'news_from_date',
                'news_to_date', 'url_key', 'delivery_time'
            );

            $A(removeCatalogProductTabs).each(
                function(element)
                {
                    nodeId = catalogProductTabsPrefix + availableCatalogProductTabs[element];
                    nodeContentId = nodeId + '_content';

                    $(nodeContentId).innerHTML = '';
                    $(nodeContentId).setStyle({ display: 'none' });

                    $(nodeId).innerHTML = '';
                    $(nodeId).up().setStyle({ display: 'none' });
                }
            );

            inputNodeIds.each(
                function(item)
                {
                    var node = $(item);

                    if (node) {
                        node.writeAttribute(inputMode, inputMode);
                    }

                    <?php /* sets display none on whole table row */ ?>
                    if (item == 'news_from_date' || item == 'news_to_date') {
                        $(item).up().up().innerHTML = '';
                    }
                }
            );
        }
    );
/*]]>*/
</script>

